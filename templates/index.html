<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmotiSense - AI Nonverbal Communication Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <h1> EmotiSense </h1>
                <p class="tagline">AI-Powered Nonverbal Communication Analyzer</p>
            </div>
        </header>

        <!-- Upload Section -->
        <section class="upload-section" id="uploadSection">
            <div class="upload-card">
                <h2>Upload Your Video</h2>
                <p class="subtitle">Analyze your nonverbal communication and receive AI-powered feedback</p>
                
                <div class="upload-area" id="uploadArea">
                   
                    <p class="upload-text">Drag and drop your MP4 video here</p>
                    <p class="upload-subtext">or</p>
                    <button type="button" class="upload-button" id="uploadButton">Choose Video File</button>
                    <input type="file" id="videoInput" accept="video/mp4" hidden>
                    <p class="file-info">Maximum file size: 100MB</p>
                </div>

                <div class="selected-file" id="selectedFile" style="display: none;">
                    <div class="file-details">
                        
                        <span class="file-name" id="fileName"></span>
                        <button class="remove-button" id="removeFile">âœ•</button>
                    </div>
                </div>

                <button class="analyze-button" id="analyzeButton" disabled>
                    Analyze Video
                </button>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    
                    <h3>Facial Expression Analysis</h3>
                    <p>Detect emotions and expressions using advanced AI</p>
                </div>
                <div class="feature-card">
                    
                    <h3>Voice Tone Analysis</h3>
                    <p>Analyze pitch, energy, and speaking patterns</p>
                </div>
                <div class="feature-card">
                    
                    <h3>Actionable Feedback</h3>
                    <p>Get personalized tips to improve your communication</p>
                </div>
                <div class="feature-card">
                    
                    <h3>Privacy First</h3>
                    <p>All processing happens locally - no data stored</p>
                </div>
            </div>
        </section>

        <!-- Loading Section -->
        <section class="loading-section" id="loadingSection" style="display: none;">
            <div class="loading-card">
                <div class="loader"></div>
                <h2>Analyzing Your Video...</h2>
                <p class="loading-text" id="loadingText">Processing facial expressions and voice patterns</p>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar-wrapper">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="progress-percent" id="progressPercent">0%</div>
                </div>
                
                <div class="loading-steps">
                    <div class="step" id="step1">
                       
                        <span>Facial Analysis</span>
                    </div>
                    <div class="step" id="step2">
                        
                        <span>Voice Analysis</span>
                    </div>
                    <div class="step" id="step3">
                        
                        <span>Generating Feedback</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <h2>Your Analysis Results</h2>
                <button class="new-analysis-button" id="newAnalysisButton">
                    Analyze Another Video
                </button>
            </div>

            <!-- Summary Card with Detailed Feedback -->
            <div class="summary-card">
                <h3> Overall Summary </h3>
                <p class="summary-text" id="summaryText"></p>
                
                <!-- Detailed Feedback integrated into summary -->
                <div class="summary-detailed-feedback" id="summaryDetailedFeedback"></div>
            </div>

            <!-- Emotion Timeline -->
            <div class="timeline-section">
                <h3>Emotion Timeline</h3>
                <div id="emotionTimeline"></div>
            </div>

            <!-- Results Grid -->
            <div class="results-grid">
                <!-- Facial Analysis Results -->
                <div class="result-card">
                    <h3>Facial Expression Analysis</h3>
                    <div id="facialResults"></div>
                </div>

                <!-- Voice Analysis Results -->
                <div class="result-card">
                    <h3>Voice Tone Analysis</h3>
                    <div id="voiceResults"></div>
                </div>
            </div>

            <!-- Strengths and Areas for Improvement -->
            <div class="feedback-grid">
                <div class="feedback-card strengths-card">
                    <h3>Your Strengths</h3>
                    <ul id="strengthsList"></ul>
                </div>

                <div class="feedback-card improvements-card">
                    <h3>Areas for Improvement</h3>
                    <ul id="improvementsList"></ul>
                </div>
            </div>

            <!-- Recommendations -->
            <div class="recommendations">
                <h3>Recommendations</h3>
                <div id="recommendationsList"></div>
            </div>
        </section>

        <!-- Error Section -->
        <section class="error-section" id="errorSection" style="display: none;">
            <div class="error-card">
              
                <h2>Analysis Error</h2>
                <p class="error-message" id="errorMessage"></p>
                <button class="retry-button" id="retryButton">Try Again</button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>EmotiSense - Powered by DeepFace & Librosa | All processing happens locally for your privacy</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>

